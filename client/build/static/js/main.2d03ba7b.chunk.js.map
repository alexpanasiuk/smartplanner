{"version":3,"sources":["components/home/home.module.css","components/app/projects/projects.module.css","reducers/index.js","reducers/user_reducer.js","reducers/projects_reducer.js","actions/index.js","components/forms/login.js","hoc/popup/popup.js","containers/login/index.js","components/forms/register.js","containers/register/index.js","components/home/home.js","components/app/header/header.js","components/forms/addProject.js","components/forms/addUser.js","components/app/projects/projects.js","containers/app/projects/index.js","components/app/sidebar/sidebar.js","hoc/dropdown/dropdown.js","components/time/time.js","components/app/task/task.js","components/app/comments/comments.js","containers/app/task/index.js","components/forms/addTask.js","components/app/contentproject/content_project.js","containers/app/contentproject/index.js","components/app/contentwrapper/content_wrapper.js","containers/app/index.js","hoc/auth/auth.js","index.js","middleware/redux/socket_middleware.js","routes.js","components/app/comments/comments.module.css","components/app/header/header.module.css","hoc/popup/popup.module.css","components/app/contentproject/content_project.module.css","components/time/time.module.css","containers/app/index.module.css","hoc/dropdown/dropdown.module.css","components/app/sidebar/sidebar.module.css","components/forms/forms.module.css","components/app/task/task.module.css","components/app/contentwrapper/content_wrapper.module.css"],"names":["module","exports","container","menu","menuWrapper","logo","menuList","menuItem","menuButton","firstScreen","textWrapper","title","subtitle","text","cta","r_angle","projects","projectsTitle","project","plus","addProject","addProjectText","ellipsis","dropdown","dropdownItem","dropdownText","rootReducer","combineReducers","user","state","arguments","length","undefined","action","type","Object","objectSpread","payload","newState","Array","isArray","toConsumableArray","i","_id","concat","push","updateTask","_ref4","taskId","projectId","name","creator","timeSetted","finished","finishTime","axios","post","then","response","data","Login","email","password","success","errors","handleInputEmail","event","_this","setState","target","value","handleInputPassword","submitForm","preventDefault","validateForm","props","match","showErrors","map","item","react_default","a","createElement","key","className","css","error","onSubmit","this","popupForm","input","placeholder","onChange","required","submit","txt","href","onClick","showRegister","link","msg","Component","Popup","close","children","LoginContainer","e","dispatch","_ref2","loginUser","nextProps","isAuth","history","login_Login","connect","Register","confirmPassword","handleInputConfirmPassword","handleInputName","activated","activationText","showLogin","RegisterContainer","_ref","registerUser","console","log","register_Register","Home","openLogin","openRegister","toggleOpenLogin","toggleOpenRegister","Link","to","login","register","Header","react_fontawesome_lib_default","showMobileMenu","mobileMenuBtn","toggleMobileMenu","menuLogo","logOut","menuText","AddProject","projectName","handleProjectName","handleSubmit","updateProject","onClose","addTaskForm","smallSubmit","cansel","AddUser","userEmail","handleUserEmail","addUserToProject","addUserForm","Projects","showAddProject","updatedProject","openAddUser","workWithProject","prepereToUpdateProject","stopPropagation","elem","parentNode","dataset","projectid","tempProject","find","canselUpdatingProject","renderDropdown","protected","callback","icon","toggleAddProject","showDropdown","nextSibling","body","document","querySelector","style","addEventListener","_closeDropdown","removeEventListener","parent","toggleAddUser","res","catch","err","setProject","setContent","renderProjects","data-projectid","deleteProject","addProject_AddProject","addUser_AddUser","ProjectsContainer","id","_ref6","_ref7","_ref8","delete","projects_Projects","Sidebar","left_menu","open","projects_ProjectsContainer","Dropdown","toggleDropdown","_this2","closeDropdown","assertThisInitialized","getElementById","contains","component","contentWrapper","Time","inputWrapper","htmlFor","label","time","handleTimeChange","isValidTime","warning","Task","_this$props","task","hiddenTasks","filter","hiddenTask","taskFinished","data-taskid","finishedTrue","finishTask","taskText","toggleComments","taskIconsWrapper","deleteTask","dropdown_dropdown","Date","toLocaleDateString","slice","inline","entry_nostyle_default","minDate","handleCalendarChange","date","timeSubmitWrapper","updateTaskTime","timeSubmit","disabled","prepareToUpdateTask","Comments","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderComments","comments","comment","timeString","toLocaleTimeString","commentHeader","commentAuthor","creatorName","commentTime","commentText","split","Fragment","commentsListRef","React","createRef","list","current","scroll","left","top","scrollHeight","behavior","ref","form","addComment","react_textarea_autosize_esm_browser","textarea","handleCommentText","minRows","TaskContainer","showComments","trim","_ref9","splitedTime","hours","minutes","parseInt","_this$state","newDate","getFullYear","getMonth","getDate","_time$split","_time$split2","slicedToArray","setMinutes","getMinutes","click","_ref5","task_Task","assign","comments_comments","AddTask","taskName","handleTaskName","submitAddTask","now","ContentProject","project__title","tasks","app_task","updatedTask","addTask_AddTask","canselUpdatingTask","showAddTask","toggleAddTask","addTask","ContentProjectContainer","_ref3","taskid","isUpdateDate","content_project_ContentProject","ContentWrapper","content","contentType","contentproject","chooseContentType","AppContainer","get","currentContent","nextContent","bg","app_holder","sidebar_Sidebar","content_wrapper","auth_auth","ComposedClass","reload","Auth","_Component","_getPrototypeOf2","_len","args","_key","apply","loading","inherits","createClass","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","url","socket","isProjectUpdated","storeAPI","next","io","emit","on","disconnect","_i","socketMiddleware","createStore","ReactDOM","render","es","store","reducers","BrowserRouter","Switch","Route","path","exact","popup","popup-header","popup-title","popup-close","popup-content"],"mappings":"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","file":"static/js/main.2d03ba7b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home_container__1tDa_\",\"menu\":\"home_menu__1hbYA\",\"menuWrapper\":\"home_menuWrapper__3Gq0c\",\"logo\":\"home_logo__8IeU_\",\"menuList\":\"home_menuList__1D8Xc\",\"menuItem\":\"home_menuItem__2gWry\",\"menuButton\":\"home_menuButton__3_9BL\",\"firstScreen\":\"home_firstScreen__1aBm3\",\"textWrapper\":\"home_textWrapper__xpQr2\",\"title\":\"home_title__1o5PN\",\"subtitle\":\"home_subtitle__DlRH2\",\"text\":\"home_text__3uIHB\",\"cta\":\"home_cta__eMf8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"r_angle\":\"projects_r_angle__w8DcZ\",\"projects\":\"projects_projects__3GOGg\",\"projectsTitle\":\"projects_projectsTitle__1kgL8\",\"project\":\"projects_project__21mjT\",\"plus\":\"projects_plus__2MiR8\",\"addProject\":\"projects_addProject__23DUa\",\"addProjectText\":\"projects_addProjectText__3GawA\",\"ellipsis\":\"projects_ellipsis__1SVet\",\"dropdown\":\"projects_dropdown__TpruL\",\"dropdownItem\":\"projects_dropdownItem___m08X\",\"dropdownText\":\"projects_dropdownText__2Anxx\"};","import { combineReducers } from 'redux';\r\nimport user from './user_reducer';\r\nimport projects from './projects_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    projects\r\n});\r\n\r\nexport default rootReducer;","export default function(state = {}, action) {\r\n    switch (action.type) {\r\n\r\n        case 'LOGIN_USER':\r\n            return {\r\n                ...action.payload\r\n            }\r\n\r\n        case 'LOGOUT_USER':\r\n            return { }\r\n\r\n        case 'REGISTER_USER':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case 'AUTH':\r\n            return {\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","export default function(state = [], action) {\r\n    let newState;\r\n    switch (action.type) {\r\n\r\n        case 'GET_PROJECTS':\r\n            return Array.isArray(action.payload) ? [...action.payload] : state;\r\n        \r\n        case 'ADD_TASK':\r\n            newState = [...state];\r\n            for (let i = 0; i < newState.length; i++) {\r\n                if (newState[i]._id === action.payload.project._id) {\r\n                    newState[i] = action.payload.project;\r\n                }\r\n            }\r\n            return newState;\r\n        \r\n        case 'UPDATE_TASK': \r\n            newState = [...state];\r\n            for (let i = 0; i < newState.length; i++) {\r\n                if (newState[i]._id === action.payload.project._id) {\r\n                    newState[i] = action.payload.project;\r\n                    break;\r\n                }\r\n            }\r\n            return newState;\r\n\r\n        case 'DELETE_TASK': \r\n            newState = [...state];\r\n            for (let i = 0; i < newState.length; i++) {\r\n                if (newState[i]._id === action.payload.project._id) {\r\n                    newState[i] = action.payload.project;\r\n                    break;\r\n                }\r\n            }\r\n            return newState;\r\n\r\n        case 'ADD_PROJECT': \r\n            return [...state, action.payload.project]\r\n\r\n        case 'UPDATE_PROJECT': \r\n            newState = [...state];\r\n            for (let i = 0; i < newState.length; i++) {\r\n                if (newState[i]._id === action.payload.project._id) {\r\n                    newState[i] = action.payload.project;\r\n                    break;\r\n                }\r\n            }\r\n            return newState;\r\n            \r\n        case 'DELETE_PROJECT': \r\n            newState = [];\r\n            for (let i = 0; i < state.length; i++) {\r\n                if (action.payload.project && (state[i]._id !== action.payload.project._id)) {\r\n                    newState.push(state[i]);\r\n                }\r\n            }\r\n            return newState;\r\n        \r\n        case 'ADD_COMMENT': \r\n            newState = [...state];\r\n            for (let i = 0; i < newState.length; i++) {\r\n                if (newState[i]._id === action.payload.project._id) {\r\n                    newState[i] = action.payload.project;\r\n                    break;\r\n                }\r\n            }\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}","import axios from 'axios'\r\n\r\n\r\nexport function registerUser({email, password, name}) {\r\n    const request = axios.post('/api/register', {email, password, name})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'REGISTER_USER',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function loginUser({email, password}) {\r\n    const request = axios.post('/api/login', {email, password})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'LOGIN_USER',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function logOut() {\r\n    const request = axios.get('/api/logout')\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'LOGOUT_USER',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function auth() {\r\n    const request = axios.get('/api/auth')\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'AUTH',\r\n        payload: request\r\n    }\r\n}\r\n\r\n\r\nexport function getProjects() {\r\n    const request = axios.get('/api/getProjects')\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'GET_PROJECTS',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function addTask({name, creator, finishTime, projectId}) {\r\n    const request = axios.post('/api/addTask', {name, creator, finishTime, projectId})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'ADD_TASK',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function updateTask({taskId, projectId, name, creator, timeSetted, finished, finishTime}) {\r\n    const request = axios.post('/api/updateTask', {taskId, name, creator, finished, timeSetted, finishTime, projectId})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'UPDATE_TASK',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function deleteTask({taskId, projectId}) {\r\n    const request = axios.delete('/api/deleteTask', {data:{taskId, projectId}})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'DELETE_TASK',\r\n        payload: request\r\n    }\r\n}\r\n\r\n\r\nexport function addProject({name, creator}) {\r\n    const request = axios.post('/api/addProject', {name, creator})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'ADD_PROJECT',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function updateProject({projectId, name}) {\r\n    const request = axios.post('/api/updateProject', {projectId, name})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'UPDATE_PROJECT',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function deleteProject({projectId}) {\r\n    const request = axios.delete('/api/deleteProject', {data: {projectId}})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'DELETE_PROJECT',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function addComment({projectId, taskId, text}) {\r\n    const request = axios.post('/api/addComment', {projectId, taskId, text})\r\n        .then(response => response.data);\r\n    return {\r\n        type: 'ADD_COMMENT',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function connectToSocket(user) {\r\n    return {\r\n        type: 'CONNECT_TO_SOCKET',\r\n        payload: user\r\n    }\r\n}","import React, { Component} from 'react';\r\nimport css from './forms.module.css';\r\n\r\n// TODO: Rewrite validation(reorganize)\r\n// TODO: No user error\r\n\r\nexport default class Login extends Component {\r\n    state = {\r\n        email: 'test@gmail.com',\r\n        password: 'qweqweqwe',\r\n        success: false,\r\n        errors: ''\r\n    }\r\n\r\n    handleInputEmail = (event) => {\r\n        this.setState( {email: event.target.value} );\r\n    }\r\n    \r\n    handleInputPassword = (event) => {\r\n        this.setState( {password: event.target.value} );\r\n    }\r\n\r\n    submitForm = (event) =>{\r\n        event.preventDefault();\r\n        let errors = this.validateForm();\r\n        if (errors.length !== 0) {\r\n            this.setState({ errors });\r\n        } else {\r\n            this.setState({ errors: '' });\r\n            this.props.submitForm(event, this.state.email, this.state.password, this.state.name);\r\n        } \r\n    }\r\n\r\n    validateForm = () => {\r\n        let errors = [];\r\n        \r\n        //check email\r\n        let email = this.state.email.match(/[a-z]+([a-z0-9-_.])*@[a-z]+\\.[a-z]+/gi);\r\n        if (!email && this.state.email) {\r\n            errors.push('Введите реальный email адрес');\r\n        } else if (email && email[0] !== this.state.email) {\r\n            errors.push('Введите реальный email адрес');\r\n        }\r\n\r\n        // check password\r\n        let password = this.state.password.match(/[a-z0-9-_]+/gi);\r\n        if (password && password[0] !== this.state.password) {\r\n            errors.push('Недопустимые символы в пароле');\r\n        } else if (password[0].length < 6) {\r\n            errors.push('Минимальная длина пароля 6 символов');\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    showErrors = (errors) => (\r\n        errors.map( (item, i) => <p key={i} className={css.error}>{item}</p> ) \r\n    )\r\n\r\n    render(){\r\n        return (\r\n            <form onSubmit={this.submitForm} className={css.popupForm}>\r\n                <input\r\n                    className={css.input}\r\n                    type=\"email\"\r\n                    placeholder=\"Введите вашу почту\"\r\n                    value={this.state.email}\r\n                    onChange={this.handleInputEmail}\r\n                    required=\"required\"\r\n                />\r\n                <input\r\n                    className={css.input}\r\n                    type=\"password\"\r\n                    placeholder=\"Введите ваш пароль\"\r\n                    value={this.state.password}\r\n                    onChange={this.handleInputPassword}\r\n                    required=\"required\"\r\n                />\r\n                <button type=\"submit\" className={css.submit}>Вход</button>\r\n\r\n                <p className={css.txt}>\r\n                    Нет аккаунта?\r\n                    <a \r\n                        href='/register' \r\n                        onClick={this.props.showRegister}\r\n                        className={css.link}\r\n                        > Создайте его за пару секунд\r\n                    </a>\r\n                </p>\r\n\r\n                {this.props.user && this.props.user.msg \r\n                    ? <p className={css.error}>{this.props.user.msg}</p>\r\n                    : null\r\n                }\r\n\r\n                {this.state.errors\r\n                    ? this.showErrors(this.state.errors)\r\n                    : null}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport css from './popup.module.css';\r\n\r\nexport default function Popup(props) {\r\n    return (\r\n        <div className={css['popup']}>\r\n            <div className={css['popup-content']}>\r\n                <table className={css['popup-header']}>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className={css['popup-title']}>\r\n                                {props.title}\r\n                            </td>\r\n                            <td>\r\n                                <div \r\n                                    className={css['popup-close']}\r\n                                    onClick={props.close}>\r\n                                    X\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../../actions';\r\nimport Login from '../../components/forms/login';\r\nimport Popup from '../../hoc/popup/popup';\r\n\r\nclass LoginContainer extends Component {\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.user.isAuth){\r\n            this.props.history.push('/app');\r\n        }\r\n    }\r\n\r\n    submitForm = (e, email, password) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(loginUser({email, password}));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Popup close={this.props.close} title={'Вход'}>\r\n                <Login\r\n                    showRegister={this.props.showRegister}\r\n                    submitForm={this.submitForm}\r\n                    user={this.props.user}\r\n                />\r\n            </Popup>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginContainer);\r\n\r\n","import React, { Component} from 'react';\r\nimport css from './forms.module.css';\r\n\r\n// TODO: Rewrite validation\r\n\r\nexport default class Register extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        name: '',\r\n        success: false,\r\n        errors: ''\r\n    }\r\n\r\n    handleInputEmail = (event) => {\r\n        this.setState( {email: event.target.value} );\r\n    }\r\n    \r\n    handleInputPassword = (event) => {\r\n        this.setState( {password: event.target.value} );\r\n    }\r\n\r\n    handleInputConfirmPassword = (event) => {\r\n        this.setState( {confirmPassword: event.target.value} );\r\n    }\r\n\r\n    handleInputName = (event) => {\r\n        this.setState( {name: event.target.value} );\r\n    }\r\n\r\n    submitForm = (event) => {\r\n        event.preventDefault();\r\n        let errors = this.validateForm();\r\n        if (errors.length !== 0) {\r\n            this.setState({ errors });\r\n        } else {\r\n            this.setState({ errors: '' });\r\n            this.props.submitForm(event, this.state.email, this.state.password, this.state.name);\r\n        }   \r\n    }\r\n\r\n    validateForm = () => {\r\n        let errors = [];\r\n        \r\n        //check email\r\n        let email = this.state.email.match(/[a-z]+([a-z0-9-_.])*@[a-z]+\\.[a-z]+/gi);\r\n        if (!email && this.state.email) {\r\n            errors.push('Введите реальный email адрес');\r\n        } else if (email && email[0] !== this.state.email) {\r\n            errors.push('Введите реальный email адрес');\r\n        }\r\n\r\n        // check password\r\n        let password = this.state.password.match(/[a-z0-9-_]+/gi);\r\n        if (password && password[0] !== this.state.password) {\r\n            errors.push('Недопустимые символы в пароле');\r\n        } else if (password[0].length <= 6) {\r\n            errors.push('Минимальная длина пароля 6 символов');\r\n        } else if (password[0] !== this.state.confirmPassword) {\r\n            errors.push('Пароли не совпадают');\r\n        }\r\n\r\n        //check name \r\n        let name = this.state.name.match(/[a-z0-9]+/gi);\r\n        if (name && name[0] !== this.state.name) {\r\n            errors.push('Недопустимые символы в имени');\r\n        }\r\n\r\n        return errors;\r\n    }\r\n\r\n    showErrors = (errors) => (\r\n        errors.map( (item, i) => <p key={i} className={css.error}>{item}</p> ) \r\n    )\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                {this.props.user.activated === false\r\n                    ? <p className={css.activationText}>{this.props.user.msg}</p>\r\n                     \r\n                    :<form onSubmit={this.submitForm} className={css.popupForm}>\r\n                        <input\r\n                            className={css.input}\r\n                            type=\"email\"\r\n                            placeholder=\"Введите вашу почту\"\r\n                            value={this.state.email}\r\n                            onChange={this.handleInputEmail}\r\n                            required=\"required\"\r\n                        />\r\n                        <input\r\n                            className={css.input}\r\n                            type=\"text\"\r\n                            placeholder=\"Введите ваше имя\"\r\n                            value={this.state.name}\r\n                            onChange={this.handleInputName}\r\n                            required=\"required\"\r\n                        />\r\n                        <input\r\n                            className={css.input}\r\n                            type=\"password\"\r\n                            placeholder=\"Введите ваш пароль\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleInputPassword}\r\n                            required=\"required\"\r\n                        />\r\n                        <input\r\n                            className={css.input}\r\n                            type=\"password\"\r\n                            placeholder=\"Повторите пароль\"\r\n                            value={this.state.confirmPassword}\r\n                            onChange={this.handleInputConfirmPassword}\r\n                            required=\"required\"\r\n                        />\r\n                        <button type=\"submit\" className={css.submit}>Зарегистрироваться</button>\r\n\r\n                        <p className={css.txt}>\r\n                            Уже зарегистрированы?\r\n                            <a \r\n                                href='/login' \r\n                                onClick={this.props.showLogin}\r\n                                className={css.link}\r\n                                > Вход\r\n                            </a>\r\n                        </p>\r\n\r\n                        {this.props.user && this.props.user.msg \r\n                            ? <p className={css.error}>{this.props.user.msg}</p>\r\n                            : null\r\n                        }\r\n\r\n                        {this.state.errors\r\n                            ? this.showErrors(this.state.errors)\r\n                            : null}\r\n\r\n                    </form>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { registerUser } from '../../actions';\r\nimport Register from '../../components/forms/register';\r\nimport Popup from '../../hoc/popup/popup';\r\n\r\nclass RegisterContainer extends Component {\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        console.log(nextProps);\r\n    }\r\n\r\n    submitForm = (e, email, password, name) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(registerUser({email, password, name}));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Popup close={this.props.close} title={'Создайте его за пару секунд!'}>\r\n                <Register\r\n                    showLogin={this.props.showLogin}\r\n                    submitForm={this.submitForm}\r\n                    user={this.props.user}\r\n                />\r\n            </Popup>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(RegisterContainer);\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport LoginContainer from '../../containers/login';\r\nimport RegisterContainer from '../../containers/register';\r\nimport css from './home.module.css';\r\n\r\nexport default class Home extends Component {\r\n    state = {\r\n        openLogin: false,\r\n        openRegister: false\r\n    }\r\n\r\n    toggleOpenLogin = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ openLogin: !this.state.openLogin })\r\n    }\r\n    \r\n    toggleOpenRegister = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ openRegister: !this.state.openRegister })\r\n    }\r\n\r\n    showRegister = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ \r\n            openLogin: false,\r\n            openRegister: true\r\n        })\r\n    }\r\n\r\n    showLogin = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ \r\n            openLogin: true,\r\n            openRegister: false\r\n        })\r\n    }\r\n\r\n    menu = (\r\n        <div className={css.menuWrapper}>\r\n            <div className={css.container}>\r\n                <nav className={css.menu}>\r\n                    <Link to='/' className={css.logo}>SmartPlanner</Link>\r\n                    <ul className={css.menuList}>\r\n                        <li className={css.menuItem}>\r\n                            <a href='/login' onClick={this.toggleOpenLogin} className={css.menuButton}>Вход</a>\r\n                        </li>\r\n                        <li className={css.menuItem}>\r\n                            <a href='/register' onClick={this.toggleOpenRegister} className={css.menuButton}>Регистрация</a>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </div>  \r\n    )\r\n\r\n    firstScreen = (\r\n        <section className={css.firstScreen}>\r\n            <div className={css.container}>\r\n                <div className={css.textWrapper}>\r\n                    <h1 className={css.title}>\r\n                        Организуй задачи\r\n                    </h1>\r\n                    <p className={css.subtitle}>\r\n                        И наслаждайся отдыхом\r\n                    </p>\r\n                    <p className={css.text}>\r\n                        Мы поможем отслеживать Ваши задачи. А вместе с этим экономить время и не держать все в голове. \r\n                    </p>\r\n                    <a href=\"/register\" className={css.cta} onClick={this.toggleOpenRegister}>\r\n                        Начните сейчас\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.menu}\r\n                {this.firstScreen}\r\n                {this.state.openLogin\r\n                    ? <LoginContainer close={this.toggleOpenLogin} showRegister={this.showRegister} history={this.props.history}/>\r\n                    : null}\r\n                {this.state.openRegister\r\n                    ? <RegisterContainer close={this.toggleOpenRegister} showLogin={this.showLogin}/>\r\n                    : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport css from './header.module.css';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className={css.menuWrapper}>\r\n            <div className={css.container}>\r\n                <div className={css.menu}>\r\n                <FontAwesome \r\n                        name={props.showMobileMenu ? 'close' : 'bars'}\r\n                        className={css.mobileMenuBtn}\r\n                        onClick={props.toggleMobileMenu}\r\n                    />\r\n                    <Link to='/' className={css.menuLogo}>SmartPlanner</Link>\r\n                    <ul className={css.menuList}>\r\n                        <li className={css.menuItem} onClick={props.logOut}>\r\n                            <FontAwesome name='sign-out'/>\r\n                            <span className={css.menuText}>Выход</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>  \r\n    )\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport css from './forms.module.css';\r\n\r\nexport default class AddProject extends Component {\r\n    state = {\r\n        projectName: this.props.project ? this.props.project.name : ''\r\n    }\r\n\r\n    handleProjectName = (e) => {\r\n        this.setState({projectName: e.target.value});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.project \r\n            ? this.props.updateProject(this.props.project._id, this.state.projectName)\r\n            : this.props.addProject(this.state.projectName);\r\n        this.props.onClose();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className={css.addTaskForm} onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" \r\n                    className={css.input}\r\n                    value={this.state.projectName}\r\n                    required \r\n                    onChange={this.handleProjectName} \r\n                    placeholder=\"Текст задачи\"\r\n                />\r\n                <input type=\"submit\" className={`${css.smallSubmit} ${css.submit}`} value={this.props.project ? 'Обновить проект' : \"Добавить проект\"}/>\r\n                <div className={css.cansel} onClick={this.props.onClose}>\r\n                    Отмена\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Popup from '../../hoc/popup/popup';\r\nimport css from './forms.module.css';\r\n\r\nexport default class AddUser extends Component {\r\n    state = {\r\n        userEmail: ''\r\n    }\r\n\r\n    handleUserEmail = (e) => {\r\n        this.setState({userEmail: e.target.value});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.addUserToProject(e, this.state.userEmail);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Popup close={this.props.onClose} title={'Добавить пользователя'}>\r\n                <form className={css.addUserForm} onSubmit={this.handleSubmit}>\r\n                    <input \r\n                        type=\"email\" \r\n                        className={css.input}\r\n                        value={this.state.userEmail}\r\n                        required \r\n                        onChange={this.handleUserEmail} \r\n                        placeholder=\"Email пользователя\"\r\n                    />\r\n                    <input type=\"submit\" className={css.submit} value=\"Добавить\"/>\r\n                </form>\r\n            </Popup>\r\n        )\r\n    }\r\n}\r\n","import React, { Component} from 'react';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport css from './projects.module.css';\r\nimport AddProject from '../../../components/forms/addProject'\r\nimport AddUser from '../../forms/addUser';\r\nimport axios from 'axios';\r\n\r\nexport default class Projects extends Component {\r\n    state = {\r\n        showAddProject: false,\r\n        updatedProject: null,\r\n        openAddUser: false,\r\n        workWithProject: ''\r\n    }\r\n\r\n    prepereToUpdateProject = (e) => {\r\n        e.stopPropagation();\r\n        let projectId = '';\r\n        let elem = e.target.parentNode;\r\n        while (!projectId) {\r\n            if (elem.dataset.projectid) {\r\n                projectId = elem.dataset.projectid;\r\n                break;\r\n            }\r\n            elem = elem.parentNode;\r\n        }\r\n        const tempProject = this.props.projects.find(project => project._id === projectId);\r\n        this.setState({\r\n            updatedProject: tempProject\r\n        })\r\n    }\r\n\r\n    canselUpdatingProject = () => {\r\n        this.setState({\r\n            updatedProject: ''\r\n        })\r\n    }\r\n    \r\n    renderDropdown = (dropdown) => {\r\n        return dropdown.map( (item, i) => (\r\n            (item.protected && (item.creator === this.props.user._id) ) || !item.protected\r\n                ?   <li key={i} className={css.dropdownItem} onClick={item.callback}>\r\n                        <FontAwesome name={item.icon}/>\r\n                        <span className={css.dropdownText}>{item.text}</span>\r\n                    </li>\r\n                : null\r\n        ))\r\n    }\r\n\r\n    toggleAddProject = () => {\r\n        this.setState({\r\n            showAddProject: !this.state.showAddProject\r\n        })\r\n    }\r\n\r\n    showDropdown = (e) => {\r\n        e.stopPropagation();\r\n        let dropdown = e.target.nextSibling;\r\n        let body = document.querySelector('body');\r\n        dropdown.style = 'display: block;';\r\n\r\n        body.addEventListener('click', function _closeDropdown(event) {\r\n            dropdown.style = '';\r\n            body.removeEventListener('click', _closeDropdown);\r\n        });\r\n    }\r\n\r\n    openAddUser = (e) => {\r\n        e.stopPropagation();\r\n        let parent = e.target.parentNode;\r\n        while (!parent.dataset.projectid){\r\n            parent = parent.parentNode;\r\n        }\r\n        const projectId = parent.dataset.projectid;\r\n        this.setState({\r\n            openAddUser: !this.state.openAddUser,\r\n            workWithProject: projectId\r\n        });\r\n    }\r\n\r\n    toggleAddUser = (e) => {\r\n        this.setState({openAddUser: !this.state.openAddUser});\r\n    }\r\n\r\n    addUserToProject = (e, userEmail) => {\r\n        const projectId = this.state.workWithProject;\r\n        axios.post('/api/sendInviteLink', {projectId, userEmail})\r\n            .then(res => console.log(res))\r\n            .catch(err => console.log(err));\r\n            this.setState({\r\n                openAddUser: false,\r\n                workWithProject: ''\r\n            });\r\n    }\r\n\r\n    setProject = (e) => this.props.setContent(e, 'PROJECT');\r\n\r\n    renderProjects = (projects) => {\r\n        let updatedProject = this.state.updatedProject;\r\n        return projects.length !== 0\r\n            ? projects.map( (project , i) => (\r\n                !updatedProject || (updatedProject._id !== project._id)\r\n                    ? <li key={i} className={css.project} data-projectid={project._id} onClick={this.setProject}>\r\n                        {project.name}\r\n                        <FontAwesome name='ellipsis-h' className={css.ellipsis} onClick={this.showDropdown}/>\r\n                        <ul className={css.dropdown}>\r\n                            {this.renderDropdown(this.dropdown, project)}\r\n                        </ul>\r\n                      </li>\r\n                    : null ))\r\n            : null\r\n        }\r\n\r\n    dropdown = [\r\n            {\r\n                icon: 'user-plus',\r\n                text: 'Добавить пользователя',\r\n                protected: false,\r\n                callback: this.openAddUser\r\n            },\r\n            {\r\n                icon: 'edit',\r\n                text: 'Редактировать проект',\r\n                protected: false,\r\n                callback: this.prepereToUpdateProject\r\n            },\r\n            {\r\n                icon: 'trash',\r\n                text: 'Удалить проект',\r\n                protected: true,\r\n                callback: this.props.deleteProject\r\n            }\r\n        ]\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className={css.projects}>\r\n                    <FontAwesome name='angle-right' className={css.r_angle}/>\r\n                    <span className={css.projectsTitle}>Проекты:</span>\r\n                    <span className={css.plus} onClick={this.toggleAddProject}>+</span>\r\n                </div>\r\n                <ul>\r\n                    {this.renderProjects(this.props.projects)}\r\n                </ul>\r\n                {this.state.updatedProject\r\n                        ? <AddProject\r\n                            updateProject={this.props.updateProject}\r\n                            user={this.props.user}\r\n                            project={this.state.updatedProject}\r\n                            onClose={this.canselUpdatingProject}\r\n                        />\r\n                        : null}\r\n                {this.state.showAddProject\r\n                        ? <AddProject\r\n                            onClose={this.toggleAddProject}\r\n                            addProject={this.props.addProject}\r\n                            user={this.props.user}\r\n                        />\r\n                        : null}\r\n                <div className={css.addProject} onClick={this.toggleAddProject}>\r\n                    <span className={css.plus}>+</span>\r\n                    <span className={css.addProjectText}>Добавить проект</span>\r\n                </div>\r\n                {this.state.openAddUser\r\n                    ? <AddUser\r\n                        onClose={this.toggleAddUser}\r\n                        addUserToProject={this.addUserToProject}\r\n                    />\r\n                    : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Projects from '../../../components/app/projects/projects';\r\nimport {addProject, updateProject, deleteProject} from '../../../actions';\r\n\r\nexport default class ProjectsContainer extends Component {\r\n    \r\n    addProject = (name) => {\r\n        let creator = this.props.user.id;\r\n        this.props.dispatch(addProject({name, creator}));\r\n    }\r\n\r\n    updateProject = (projectId, name) => {\r\n        this.props.dispatch(updateProject({projectId, name}));\r\n    }\r\n\r\n    deleteProject = (e) => {\r\n        e.stopPropagation();\r\n        let projectId = '';\r\n        let elem = e.target.parentNode;\r\n        while (!projectId) {\r\n            if (elem.dataset.projectid) {\r\n                projectId = elem.dataset.projectid;\r\n                break;\r\n            }\r\n            elem = elem.parentNode;\r\n        }\r\n        this.props.dispatch(deleteProject({projectId}));\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Projects projects={this.props.projects}\r\n                user={this.props.user}\r\n                addProject={this.addProject} \r\n                updateProject={this.updateProject}\r\n                deleteProject={this.deleteProject}\r\n                setContent={this.props.setContent}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ProjectsContainer from '../../../containers/app/projects';\r\nimport css from './sidebar.module.css';\r\n\r\nexport default class Sidebar extends Component {\r\n    render() {\r\n        return (\r\n            <div className={`${css.left_menu} ${this.props.showMobileMenu ? css.open : null}`}>\r\n                <ProjectsContainer\r\n                    projects={this.props.projects} \r\n                    dispatch={this.props.dispatch} \r\n                    user={this.props.user}\r\n                    setContent={this.props.setContent}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport css from './dropdown.module.css';\r\n\r\nclass Dropdown extends Component {\r\n    state = {\r\n        open: false\r\n    }\r\n    componentWillUnmount () {\r\n        const body = document.querySelector('body');\r\n        body.removeEventListener('click', this._closeDropdown);\r\n    }\r\n\r\n    toggleDropdown = e => this.setState({open: !this.state.open})\r\n\r\n    closeDropdown = e => {\r\n        const body = document.querySelector('body');\r\n        body.addEventListener('click', this._closeDropdown);\r\n    }\r\n\r\n    _closeDropdown = (e) =>{\r\n        const body = document.querySelector('body');\r\n        const _this = this;\r\n        const thisDropdown = document.getElementById(this.props.name);\r\n        if (!thisDropdown.contains(e.target)) {\r\n            _this.setState({open: false});\r\n            body.removeEventListener('click', this._closeDropdown);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={this.closeDropdown} className={`${css.dropdown} ${this.props.className}`} id={this.props.name}>\r\n                <div className={`${css.toggleDropdown}`} onClick={this.toggleDropdown}>\r\n                    {this.props.component}\r\n                </div>\r\n                {this.state.open\r\n                    ?<div className={css.contentWrapper}>\r\n                        {this.props.children}\r\n                    </div>\r\n                    : null\r\n                    }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dropdown;","import React from 'react';\r\nimport css from './time.module.css';\r\nimport FontAwesome from 'react-fontawesome';\r\n\r\nexport default function Time(props) {\r\n    return (\r\n        <div className={css.inputWrapper}>\r\n            <label htmlFor='time-input' className={css.label}>Время: </label>\r\n            <input\r\n                id='time-input'\r\n                value={props.time} \r\n                placeholder=\"Напр. 9:23\"\r\n                onChange={props.handleTimeChange}\r\n                className={css.input}\r\n            />\r\n            {props.isValidTime\r\n                ? null\r\n                : <FontAwesome\r\n                    className={css.warning}\r\n                    name='warning'\r\n                />\r\n                }\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport css from './task.module.css'\r\nimport Dropdown from '../../../hoc/dropdown/dropdown';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport Time from '../../time/time';\r\nimport Calendar from 'react-calendar/dist/entry.nostyle';\r\n\r\nexport default class Task extends Component {\r\n    render() {\r\n        const {task, i} = this.props;\r\n        const hidden = this.props.hiddenTasks.filter(hiddenTask => hiddenTask._id === task._id).length;\r\n        return (\r\n            !hidden\r\n                ?   <div className={`${css.task} ${task.finished ? css.taskFinished : ''}`} data-taskid={task._id}>\r\n                        <FontAwesome name='check-circle'\r\n                            className={`${css.finished} ${task.finished ? css.finishedTrue : ''}`} \r\n                            onClick={this.props.finishTask}/>\r\n                        <span className={css.taskText}>\r\n                            {task.name}\r\n                            <FontAwesome name='commenting-o' className={css.icon} onClick={this.props.toggleComments} />\r\n                        </span>\r\n                        <div className={css.taskIconsWrapper}>\r\n                            <FontAwesome name='trash' className={css.icon} onClick={this.props.deleteTask} />                           \r\n                            <Dropdown\r\n                                name={`task-calendar${i}`}\r\n                                component={task.timeSetted\r\n                                    ?   <span className={css.timeSetted}>         \r\n                                            {new Date(task.finishTime).toLocaleDateString().slice(0, -5)}\r\n                                        </span> \r\n                                    :   <FontAwesome name='calendar-o' className={css.icon}/>}\r\n                                className={css.inline}>\r\n                                <Calendar\r\n                                    minDate={new Date()}\r\n                                    onChange={this.props.handleCalendarChange}\r\n                                    value={this.props.date}\r\n                                />\r\n                                <Time\r\n                                    time={this.props.time}\r\n                                    handleTimeChange={this.props.handleTimeChange}\r\n                                    isValidTime={this.props.isValidTime} \r\n                                />\r\n                                <div className={css.timeSubmitWrapper}>\r\n                                    <button \r\n                                        onClick={this.props.updateTaskTime}\r\n                                        className={`${css.timeSubmit} ${this.props.isValidTime ? null : css.disabled}`}\r\n                                        disabled={this.props.isValidTime ? false : true}>\r\n                                            Задать\r\n                                        </button>\r\n                                </div>       \r\n                            </Dropdown>\r\n                            <Dropdown\r\n                                name={`taskActions${i}`}\r\n                                component={<FontAwesome name='ellipsis-h' className={css.icon}/>}\r\n                                className={css.inline}\r\n                                >\r\n                                <div className={css.dropdownItem} onClick={this.props.prepareToUpdateTask}>\r\n                                    <FontAwesome name='edit' className={css.icon}/>\r\n                                    <span className={css.dropdownText}>Редактировать</span>\r\n                                </div>\r\n                            </Dropdown>\r\n                        </div>\r\n                    </div>\r\n                : null\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport css from './comments.module.css';\r\nimport Textarea from 'react-textarea-autosize';\r\n\r\nclass Comments extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.commentsListRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const list = this.commentsListRef.current;\r\n        list.scroll({left: 0, top: list.scrollHeight, behavior: \"smooth\"})\r\n    }\r\n\r\n    renderComments = (comments) => (\r\n        comments.map((comment, i) => {\r\n            const time = new Date(comment.time);\r\n            const timeString = time.toLocaleDateString() + ' ' + time.toLocaleTimeString().slice(0, -3);\r\n            return (\r\n                <li key={i} className={css.comment}>\r\n                    <div className={css.commentHeader}>\r\n                        <span className={css.commentAuthor}>{comment.creatorName}</span>\r\n                        <span className={css.commentTime}>{timeString}</span>\r\n                    </div>\r\n                    <p className={css.commentText}>\r\n                        {comment.text.split('\\n').map((item, key) => \r\n                            <React.Fragment key={key}>{item}<br/></React.Fragment>\r\n                        )}\r\n                    </p>\r\n                </li>\r\n                )\r\n        })\r\n    )\r\n    render(){\r\n        return (\r\n            <div className={css.comments}>\r\n                <div className={css.title}>\r\n                    {this.props.task.name}\r\n                </div>\r\n                <ul className={css.list} ref={this.commentsListRef}>\r\n                    {this.props.task.comments[0] \r\n                        ? this.renderComments(this.props.task.comments)\r\n                        : <li>Пока комментариев нет</li>}\r\n                </ul>\r\n                <form className={css.form} onSubmit={this.props.addComment}>\r\n                    <Textarea \r\n                        className={css.textarea}\r\n                        placeholder=\"Написать комментарий\"\r\n                        onChange={this.props.handleCommentText}\r\n                        value={this.props.commentText}\r\n                        minRows={3}\r\n                        required\r\n                    />\r\n                    <input\r\n                        className={css.submit}\r\n                        type=\"submit\" \r\n                        value=\"Добавить комментарий\" \r\n                        />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Comments;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Task from '../../../components/app/task/task';\r\nimport { deleteTask, updateTask, addComment } from '../../../actions';\r\nimport Popup from '../../../hoc/popup/popup';\r\nimport Comments from '../../../components/app/comments/comments';\r\n\r\nclass TaskContainer extends Component {\r\n\r\n    state = {\r\n        date: new Date(),\r\n        time: '',\r\n        isValidTime: true,\r\n        showComments: false,\r\n        commentText: ''\r\n    }\r\n\r\n    toggleComments = () => this.setState({showComments: !this.state.showComments})\r\n\r\n    handleCommentText = (e) => this.setState({commentText: e.target.value});\r\n\r\n    addComment = (e) => {\r\n        e.preventDefault();\r\n        let text = this.state.commentText;\r\n        text = text.trim();\r\n        this.props.dispatch(addComment({\r\n            projectId: this.props.project._id,\r\n            taskId: this.props.task._id,\r\n            text\r\n        }));\r\n        this.setState({commentText: ''});\r\n    }\r\n\r\n    handleCalendarChange = (date) => this.setState({ date })\r\n\r\n    handleTimeChange = (e) => {\r\n        const time = e.target.value;\r\n        const isValidTime = this.isValidTime(time);\r\n        this.setState({time, isValidTime});\r\n    }\r\n\r\n    isValidTime = (time) => {\r\n        if (!time) return true;\r\n\r\n        const re = /[^0-9: ]/;\r\n        if (time.match(re)) return false;\r\n\r\n        const splitedTime = time.split(':');\r\n        if (splitedTime.length !== 2 || !splitedTime[1]) return false;\r\n\r\n        const hours = splitedTime[0].trim();\r\n        const minutes = splitedTime[1].trim();\r\n        \r\n        if (parseInt(hours) > 24 || parseInt(minutes) > 59) return false;\r\n        \r\n        return true;\r\n    }\r\n\r\n    updateTaskTime = (e) => {\r\n        let {date, time}  = this.state;\r\n        let newDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n        let [hours, minutes] = time.split(':');\r\n        if (time) {\r\n            hours = parseInt(hours);\r\n            minutes = parseInt(minutes);\r\n            newDate.setMinutes(newDate.getMinutes() + hours * 60 + minutes);\r\n        } else {\r\n            newDate.setMinutes(newDate.getMinutes() + 720);\r\n        }\r\n\r\n        const task = this.props.task;\r\n        this.props.updateTask(e, null, task, newDate);\r\n        document.querySelector('body').click(); // Close dropdown\r\n    }\r\n\r\n    finishTask = (e) => {\r\n        const project = this.props.project;\r\n        const task = this.props.task;\r\n        this.props.dispatch(updateTask({\r\n            projectId: project._id,\r\n            taskId: task._id,\r\n            creator: task.creator,\r\n            finishTime: task.finishTime,\r\n            name: task.name, \r\n            finished: !task.finished\r\n        }));\r\n    }\r\n\r\n    deleteTask = (e) => {\r\n        const task = this.props.task;\r\n        let projectId = this.props.project;\r\n        this.props.dispatch(deleteTask({\r\n            taskId: task._id,\r\n            projectId\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Task\r\n                    handleCalendarChange={this.handleCalendarChange}\r\n                    handleTimeChange={this.handleTimeChange}\r\n                    updateTaskTime={this.updateTaskTime}\r\n                    finishTask={this.finishTask}\r\n                    deleteTask={this.deleteTask}\r\n                    toggleComments={this.toggleComments}\r\n                    prepareToUpdateTask={this.props.prepareToUpdateTask}\r\n                    task={this.props.task}\r\n                    hiddenTasks={this.props.hiddenTasks}\r\n                    i={this.props.i}\r\n                    {...this.state}\r\n                />\r\n                {this.state.showComments\r\n                    ?   <Popup title=\"Комментарии\" close={this.toggleComments}>\r\n                            <Comments \r\n                                task={this.props.task}\r\n                                handleCommentText={this.handleCommentText}\r\n                                commentText={this.state.commentText}\r\n                                addComment={this.addComment}\r\n                            />\r\n                        </Popup>\r\n                    :   null\r\n                }\r\n                \r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        projects: state.projects\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(TaskContainer);","import React, { Component } from 'react'\r\nimport css from './forms.module.css';\r\n\r\nexport default class AddTask extends Component {\r\n    state = {\r\n        taskName: this.props.task ? this.props.task.name : ''\r\n    }\r\n\r\n    handleTaskName = (e) => {\r\n        this.setState({taskName: e.target.value});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.task \r\n            ? this.props.updateTask(e, this.state.taskName)\r\n            : this.props.submitAddTask(e, this.state.taskName, this.props.user.id, Date.now() + 20000);\r\n        this.props.onClose();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className={css.addTaskForm} onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" \r\n                    className={css.input}\r\n                    value={this.state.taskName}\r\n                    required \r\n                    onChange={this.handleTaskName} \r\n                    placeholder=\"Текст задачи\"\r\n                />\r\n                <input type=\"submit\" className={`${css.smallSubmit} ${css.submit}`} value={this.props.task ? 'Обновить задачу' : \"Добавить задачу\"}/>\r\n                <div className={css.cansel} onClick={this.props.onClose}>\r\n                    Отмена\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport css from './content_project.module.css';\r\nimport TaskContainer from '../../../containers/app/task';\r\nimport AddTask from '../../forms/addTask';\r\n\r\n\r\nexport default class ContentProject extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className={css.project}>\r\n                    <div className={css.project__title}>\r\n                        {this.props.project.name}\r\n                    </div>\r\n                    {this.props.project.tasks.map((task, i) =>\r\n                        <TaskContainer\r\n                            project={this.props.project}\r\n                            task={task}\r\n                            i={i}\r\n                            updateTask={this.props.updateTask}\r\n                            prepareToUpdateTask={this.props.prepareToUpdateTask}\r\n                            key={i}\r\n                            hiddenTasks={this.props.hiddenTasks}\r\n                        />\r\n                    )}\r\n                    \r\n                </div>\r\n                {this.props.updatedTask\r\n                    ? <AddTask\r\n                        updateTask={this.props.updateTask}\r\n                        user={this.props.user}\r\n                        task={this.props.updatedTask}\r\n                        onClose={this.props.canselUpdatingTask}\r\n                    />\r\n                    : null}\r\n                {this.props.showAddTask\r\n                    ? <AddTask\r\n                        onClose={this.props.toggleAddTask}\r\n                        submitAddTask={this.props.submitAddTask}\r\n                        user={this.props.user}\r\n                    />\r\n                    : null}\r\n                <div className={css.addTask} onClick={this.props.toggleAddTask}>\r\n                    <span className={css.plus}>+</span>Добавить задачу\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ContentProject from '../../../components/app/contentproject/content_project';\r\nimport {addTask, updateTask} from '../../../actions';\r\n\r\nclass ContentProjectContainer extends Component {\r\n\r\n    state = {\r\n        showAddTask: false,\r\n        updatedTask: null,\r\n        hiddenTasks: []\r\n    }\r\n\r\n    toggleAddTask = () => {\r\n        this.setState({showAddTask: !this.state.showAddTask});\r\n    }\r\n\r\n    submitAddTask = (e, name, creator, finishTime) => {\r\n        this.props.dispatch(addTask({\r\n            projectId: this.props.project._id,\r\n            name,\r\n            creator,\r\n            finishTime\r\n        }));\r\n    }\r\n\r\n    prepareToUpdateTask = (e) => {\r\n        let parent = e.target.parentNode;\r\n        while (!parent.dataset.taskid){\r\n            parent = parent.parentNode;\r\n        }\r\n        const taskId = parent.dataset.taskid;\r\n        const currentProject = this.props.project;\r\n        const task = currentProject.tasks.find(task => task._id === taskId);\r\n        \r\n        this.setState({\r\n            updatedTask: task,\r\n            hiddenTasks: [...this.state.hiddenTasks, task]\r\n        })\r\n    }\r\n\r\n    updateTask = (e, name, task, finishTime) => {\r\n        const isUpdateDate = name ? false : true;\r\n        let timeSetted = false;\r\n\r\n        if (isUpdateDate) {\r\n            name = task.name;\r\n            timeSetted = true;\r\n        } else {\r\n            task = this.state.updatedTask;\r\n            finishTime = task.finishTime;\r\n            timeSetted = task.timeSetted;\r\n        } \r\n\r\n        this.props.dispatch(updateTask({\r\n            projectId: this.props.project._id,\r\n            taskId: task._id,\r\n            creator: task.creator,\r\n            timeSetted: timeSetted,\r\n            finishTime: finishTime,\r\n            name: name, \r\n            finished: task.finished\r\n        }));\r\n\r\n        if (!isUpdateDate) this.setState({ updatedTask: null})\r\n    }\r\n\r\n    canselUpdatingTask = () => {\r\n        this.setState({\r\n            updatedTask: null,\r\n            hiddenTasks: this.state.hiddenTasks.filter(task => task._id !== this.state.updatedTask._id)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ContentProject\r\n                project={this.props.project}\r\n                user={this.props.user}\r\n                submitAddTask={this.submitAddTask}\r\n                toggleAddTask={this.toggleAddTask}\r\n                prepareToUpdateTask={this.prepareToUpdateTask}\r\n                updateTask={this.updateTask}\r\n                canselUpdatingTask={this.canselUpdatingTask}\r\n                showAddTask={this.state.showAddTask}\r\n                updatedTask={this.state.updatedTask}\r\n                hiddenTasks={this.state.hiddenTasks}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        projects: state.projects\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ContentProjectContainer);","import React from 'react';\r\nimport ContentProjectContainer from '../../../containers/app/contentproject';\r\nimport css from './content_wrapper.module.css';\r\n\r\nconst ContentWrapper = (props) => {\r\n    const chooseContentType = () => {\r\n        switch (props.contentType) {\r\n            case 'PROJECT':\r\n                return <ContentProjectContainer\r\n                            user={props.user}\r\n                            project={props.content}\r\n                        />\r\n\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={css.content}>\r\n            {chooseContentType()}\r\n        </div>   \r\n    )\r\n}\r\n\r\nexport default ContentWrapper;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getProjects, logOut, connectToSocket } from '../../actions';\r\nimport css from './index.module.css';\r\nimport Header from '../../components/app/header/header';\r\nimport Sidebar from '../../components/app/sidebar/sidebar';\r\nimport ContentWrapper from '../../components/app/contentwrapper/content_wrapper';\r\n\r\nclass AppContainer extends Component {\r\n\r\n    state = {\r\n        content: '',\r\n        showMobileMenu: false,\r\n        contentType: null\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (this.props.user.isAuth) {\r\n            this.props.dispatch(connectToSocket(this.props.user));\r\n        }\r\n        this.props.dispatch(getProjects());\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const currentContent = this.state.content;\r\n        const nextContent = nextProps.projects.find(project => project._id === currentContent._id);\r\n        if (nextContent) {\r\n            this.setState({\r\n                content: nextContent,\r\n                contentType: 'PROJECT'\r\n            })\r\n        } else {\r\n            this.setState({\r\n                content: nextProps.projects[0] ?  nextProps.projects[0] : '',\r\n                contentType: nextProps.projects[0] ? 'PROJECT' : null\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleMobileMenu = () => {\r\n        this.setState({showMobileMenu: !this.state.showMobileMenu});\r\n    }\r\n\r\n    logOut = () => {\r\n        this.props.dispatch(logOut());\r\n    }\r\n\r\n    setContent = (e, contentType) => {\r\n        const projectId = e.target.dataset.projectid;\r\n        this.setState({\r\n            content: this.props.projects.find(project => project._id === projectId),\r\n            showMobileMenu: false,\r\n            contentType\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={css.bg}>\r\n                <Header showMobileMenu={this.state.showMobileMenu} toggleMobileMenu={this.toggleMobileMenu} logOut={this.logOut}/>\r\n                <div id=\"app_holder\" className={`${css.app_holder} ${css.container}`}>\r\n                    <Sidebar\r\n                        projects={this.props.projects} \r\n                        dispatch={this.props.dispatch} \r\n                        user={this.props.user}\r\n                        setContent={this.setContent}\r\n                        showMobileMenu={this.state.showMobileMenu}\r\n                    />\r\n                    <ContentWrapper\r\n                        content={this.state.content}\r\n                        contentType={this.state.contentType}\r\n                        user={this.props.user}\r\n                    />                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        projects: state.projects\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppContainer);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { auth } from '../../actions';\r\n\r\nexport default function(ComposedClass, reload) {\r\n    class Auth extends Component {\r\n\r\n        state = {\r\n            loading: true\r\n        }\r\n\r\n        componentWillMount() {\r\n            this.props.dispatch(auth());\r\n        }\r\n\r\n        componentWillReceiveProps(nextProps) {\r\n            this.setState({\r\n                loading: false\r\n            });\r\n\r\n            if (!nextProps.user.isAuth) {\r\n                if (reload) {\r\n                    this.props.history.push('/');\r\n                }\r\n            \r\n            } else {\r\n                    if (reload === false) {\r\n                    this.props.history.push('/app');\r\n                    }\r\n                }\r\n            }\r\n\r\n            render(){\r\n                if(this.state.loading){\r\n                    return <div className=\"loader\">Loading...</div>\r\n                }\r\n            return(\r\n                <ComposedClass {...this.props} user={this.props.user}/>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            user: state.user\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(Auth);\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport promiseMiddleware from 'redux-promise';\r\nimport ReduxThunk from 'redux-thunk';\r\n\r\nimport socketMiddleware from './middleware/redux/socket_middleware';\r\nimport reducers from './reducers';\r\nimport Routes from './routes';\r\n\r\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk, socketMiddleware('https://smart-planner.herokuapp.com'))(createStore);\r\n\r\nReactDOM.render((\r\n    <Provider store={createStoreWithMiddleware(reducers)} >\r\n        <BrowserRouter>\r\n            <Routes/>\r\n        </BrowserRouter>\r\n    </Provider>\r\n), document.getElementById('root'));\r\n\r\n","import io from 'socket.io-client';\r\n\r\nexport default function socketMiddleware(url) {\r\n    let socket;\r\n    const isProjectUpdated = ['ADD_TASK', 'UPDATE_TASK', 'DELETE_TASK', 'UPDATE_PROJECT', 'DELETE_PROJECT', 'ADD_COMMENT'];\r\n\r\n    return storeAPI => next => action => {\r\n        switch(action.type) {\r\n            case \"CONNECT_TO_SOCKET\": {\r\n                    initSocket();\r\n                break;\r\n            }\r\n            case \"LOGOUT_USER\": {\r\n                if (socket) socket.disconnect();\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n        \r\n        // Check if project was updated\r\n        for (let actionType of isProjectUpdated) {\r\n            if (actionType === action.type && action.payload.success) {\r\n                socket.emit('projectUpdated', {\r\n                    type: action.type,\r\n                    project: action.payload.project\r\n                });\r\n            }\r\n        } \r\n\r\n        return next(action);\r\n\r\n    \r\n        function initSocket() {\r\n            socket = io.connect(url);\r\n            socket.emit('register', action.payload);\r\n\r\n            socket.on('projectUpdated', data => {\r\n                next({\r\n                    type: data.type, \r\n                    payload: {\r\n                        project: data.project\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { Switch , Route } from 'react-router-dom';\r\n\r\nimport Home from './components/home/home';\r\nimport AppContainer from './containers/app';\r\nimport Auth from './hoc/auth/auth';\r\n\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <Switch>\r\n            <Route path='/app' component={Auth(AppContainer, true)}></Route>\r\n            <Route path='/' exact component={Home}></Route>\r\n        </Switch>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"comments_comments__ixzVS\",\"title\":\"comments_title__2Xfmn\",\"list\":\"comments_list__26Ka9\",\"commentHeader\":\"comments_commentHeader__D-AAx\",\"commentAuthor\":\"comments_commentAuthor__10Sen\",\"commentTime\":\"comments_commentTime__wTxhL\",\"commentText\":\"comments_commentText__3IcoA\",\"form\":\"comments_form__pilGV\",\"textarea\":\"comments_textarea__33joX\",\"submit\":\"comments_submit__LAlcj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__GT-8H\",\"menuWrapper\":\"header_menuWrapper__MN5Wz\",\"menu\":\"header_menu__3WXf4\",\"menuLogo\":\"header_menuLogo__1sCWT\",\"menuText\":\"header_menuText__10zQ1\",\"menuItem\":\"header_menuItem__1UsLW\",\"mobileMenuBtn\":\"header_mobileMenuBtn__PpfaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"popup_popup__8U6Jh\",\"popup-header\":\"popup_popup-header__3Gf3g\",\"popup-title\":\"popup_popup-title__1ty4L\",\"popup-close\":\"popup_popup-close__3lrH_\",\"popup-content\":\"popup_popup-content__1sCpN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"project\":\"content_project_project__FYilv\",\"project__title\":\"content_project_project__title__20Y2h\",\"addTask\":\"content_project_addTask__2Ggsk\",\"plus\":\"content_project_plus__2dgX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"time_inputWrapper__3x3jc\",\"label\":\"time_label__31Xma\",\"input\":\"time_input__1PlE2\",\"warning\":\"time_warning__33jru\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"app_bg__3yXFk\",\"container\":\"app_container__2u_iY\",\"app_holder\":\"app_app_holder__1GDE6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"dropdown_dropdown__2pgEr\",\"toggleDropdown\":\"dropdown_toggleDropdown__3o8ZT\",\"contentWrapper\":\"dropdown_contentWrapper__2Izg1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"left_menu\":\"sidebar_left_menu__1xxX1\",\"open\":\"sidebar_open__3INXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"forms_input__2yVQI\",\"submit\":\"forms_submit__XNPVt\",\"addTaskForm\":\"forms_addTaskForm__1K2Pm\",\"popupForm\":\"forms_popupForm__2BZ8K\",\"smallSubmit\":\"forms_smallSubmit__1O4YC\",\"link\":\"forms_link__1bIpv\",\"error\":\"forms_error__2hNP8\",\"activationText\":\"forms_activationText__37BJn\",\"cansel\":\"forms_cansel__3gs6L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"task\":\"task_task__21N6e\",\"taskText\":\"task_taskText__2aPwa\",\"finished\":\"task_finished__1-DFK\",\"finishedTrue\":\"task_finishedTrue__30Pq9\",\"icon\":\"task_icon__2wi_u\",\"inline\":\"task_inline__x3kVx\",\"timeSubmitWrapper\":\"task_timeSubmitWrapper__3oTtS\",\"timeSubmit\":\"task_timeSubmit__1N1hi\",\"disabled\":\"task_disabled__1lAhI\",\"taskFinished\":\"task_taskFinished__L6i6q\",\"taskIconsWrapper\":\"task_taskIconsWrapper__26DgG\",\"dropdownItem\":\"task_dropdownItem__13Aur\",\"timeSetted\":\"task_timeSetted__2LUYj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"content_wrapper_content__196qg\"};"],"sourceRoot":""}